# 🌐 VPN 環境下的外部訪問設置指南

當您使用 VPN 時，您的真實 IP 地址會被隱藏，這會影響外部連接。以下是幾種解決方案：

## 🚀 方案一：使用 Serveo.net 內網穿透（推薦）

這是一個非常簡單的方案，**無需安裝、無需註冊**。

### 1. 啟動服務器
首先，確保您的本地服務器正在運行：
```bash
npm start
```

### 2. 啟動內網穿透
在**另一個**終端機視窗中運行以下命令：
```bash
npm run tunnel
```

### 3. 獲取外部訪問地址
命令執行後，您會看到類似這樣的輸出：
```
Forwarding HTTP traffic from https://your-random-name.serveo.net
```
這個 `https://your-random-name.serveo.net` 就是您可以分享給他人的公開訪問地址。

### 4. 保持運行
請保持這個終端機視窗開啟，服務才能持續運行。

---

## 🔧 其他方案

### LocalTunnel
如果您想換回 LocalTunnel，可以修改 `package.json` 中的 `tunnel` 腳本。

### ngrok
ngrok 是另一個強大的選項，但需要註冊和配置 authtoken。

## 🔒 安全注意事項
- `serveo.net` 是一個公開服務，請勿在上面傳輸敏感數據。
- 對於需要更高安全性的場景，建議使用配置了認證的 ngrok 或自建穿透服務。

## 📋 快速開始腳本

我將更新 `start-external.bat` 以簡化啟動流程。

## 🌍 方案三：VPN 配置調整

### 1. 使用 Split Tunneling（分流）
- 在 VPN 設置中啟用分流功能
- 將您的應用排除在 VPN 路由之外
- 這樣您的真實 IP 仍然可以被外部訪問

### 2. 端口轉發設置
- 在 VPN 客戶端中設置端口轉發
- 將外部端口映射到您的本地端口 3000

## 📱 方案四：使用雲服務器

### 1. 部署到雲服務器
- 使用 VPS（如 AWS、DigitalOcean、Vultr）
- 將應用部署到雲服務器上
- 使用雲服務器的公網 IP 訪問

### 2. 使用雲平台
- 部署到 Heroku、Vercel、Netlify 等平台
- 這些平台提供免費的公網訪問

## 🎯 推薦配置

### 開發環境
```bash
# 終端 1：啟動服務器
npm start

# 終端 2：啟動內網穿透
npm run tunnel
```

### 生產環境
- 使用雲服務器部署
- 配置域名和 SSL 證書
- 設置監控和日誌

## 💡 提示

1. **免費服務限制**
   - ngrok 免費版有連接數和速度限制
   - 考慮使用付費服務獲得更好的體驗

2. **備用方案**
   - 準備多個內網穿透服務作為備用
   - 定期測試連接狀態

3. **性能優化**
   - 使用 CDN 加速靜態資源
   - 優化圖片上傳和處理速度

---

**選擇最適合您需求的方案，享受無障礙的外部訪問體驗！** 🚀 