# 圖片文字提取工具

一個基於 Google Gemini AI 的智能圖片文字提取和評分工具，具有美觀的網頁界面和強大的功能。

## ✨ 功能特色

### 🖼️ 圖片文字提取
- 支援多種圖片格式：JPG、PNG、GIF 等
- 拖拽上傳或點擊選擇圖片
- 使用 Gemini 1.5 Flash 模型進行高精度文字識別
- 即時預覽和文字提取

### ⭐ AI 智能評分
- 對提取的文字進行智能評分（1-10分）
- 詳細分析文字優缺點
- 提供具體的改進建議
- 專業的評語和建議

### 🎨 美觀界面
- 現代化的漸變背景設計
- 響應式佈局，支援手機和桌面
- 流暢的動畫效果
- 直觀的操作體驗

### 📋 實用功能
- 一鍵複製提取的文字
- 下載文字為 TXT 文件
- 複製和下載評分結果
- 鍵盤快捷鍵支援
- 錯誤提示和載入動畫

## 🚀 快速開始

### 安裝依賴
```bash
npm install
```

### 啟動服務器
```bash
npm start
```

### 獲取本機 IP 地址
```bash
npm run ip
```

### 訪問應用
- **本地訪問**：`http://localhost:4000`
- **外部訪問**：`http://[您的IP地址]:4000`

## 🌐 外部訪問配置

### 1. 獲取本機 IP
運行以下命令查看您的本機 IP 地址：
```bash
npm run ip
```

### 2. 防火牆設置
確保 Windows 防火牆允許 4000 端口的訪問：
- 打開 Windows Defender 防火牆
- 點擊「允許應用或功能通過 Windows Defender 防火牆」
- 點擊「更改設置」
- 點擊「允許其他應用」
- 瀏覽並選擇 Node.js 或添加端口 4000

### 3. 路由器設置（如需要）
如果您在路由器後面，需要設置端口轉發：
- 登入路由器管理界面
- 找到「端口轉發」或「Port Forwarding」
- 添加規則：外部端口 4000 → 內部 IP 您的電腦IP → 內部端口 4000

### 4. 測試外部訪問
- 在同一網絡的其他設備上訪問：`http://[您的IP]:4000`
- 或使用手機熱點測試：`http://[您的IP]:4000`

## 📖 使用說明

### 1. 上傳圖片
- 拖拽圖片到上傳區域
- 或點擊「選擇圖片」按鈕
- 支援最大 10MB 的圖片文件

### 2. 提取文字
- 上傳圖片後會顯示預覽
- 點擊「提取文字」按鈕
- 等待 AI 處理完成

### 3. 查看結果
- 提取的文字會顯示在結果區域
- 可以複製或下載文字內容

### 4. AI 評分
- 點擊「AI小明評分」按鈕
- 系統會對文字進行智能評分
- 查看詳細的評語和建議

### 5. 管理結果
- 複製評分結果
- 下載評分為文件
- 處理新的圖片

## ⌨️ 鍵盤快捷鍵

- `Ctrl/Cmd + V`：粘貼圖片
- `Ctrl/Cmd + C`：複製文字/評分
- `Escape`：重置應用/關閉評分

## 🛠️ 技術架構

### 後端
- **Node.js** + **Express.js**：Web 服務器
- **Multer**：文件上傳處理
- **Google Generative AI**：AI 文字識別和評分

### 前端
- **HTML5**：語義化標記
- **CSS3**：現代化樣式和動畫
- **JavaScript (ES6+)**：交互邏輯
- **Font Awesome**：圖標庫

### 主要功能模塊
- 文件上傳和預覽
- 圖片文字提取
- AI 智能評分
- 結果管理和下載

## 🔧 配置說明

### API 金鑰配置
在 `server.js` 中配置您的 Gemini API 金鑰：
```javascript
const genAI = new GoogleGenerativeAI("YOUR_API_KEY");
```

### 端口配置
默認端口為 4000，可在 `server.js` 中修改：
```javascript
const port = 4000;
const host = '0.0.0.0'; // 監聽所有網絡接口
```

### 網絡配置
服務器已配置為監聽所有網絡接口（0.0.0.0），支援外部訪問。

## 📱 響應式設計

應用完全支援響應式設計：
- 桌面端：完整功能界面
- 平板端：適配中等屏幕
- 手機端：優化的移動體驗

## 🎯 使用場景

- **學生**：提取課本或筆記中的文字
- **研究員**：分析文獻和資料
- **作家**：評分和改進文章
- **翻譯員**：提取需要翻譯的文字
- **一般用戶**：快速獲取圖片中的文字信息

## 🔒 隱私保護

- 上傳的圖片僅用於文字提取
- 處理完成後自動刪除
- 不保存任何用戶數據
- 所有處理在本地服務器進行

## 🐛 故障排除

### 常見問題

1. **圖片上傳失敗**
   - 檢查文件大小是否超過 10MB
   - 確認文件格式為圖片類型

2. **文字提取失敗**
   - 確保圖片清晰度足夠
   - 檢查圖片是否包含文字內容

3. **評分功能異常**
   - 確認網絡連接正常
   - 檢查 API 金鑰是否有效

4. **外部訪問失敗**
   - 檢查防火牆設置
   - 確認端口 4000 是否開放
   - 檢查路由器端口轉發設置

### 移動設備問題

5. **手機選擇圖片後沒反應**
   - **問題描述**：在手機上點擊選擇圖片後，沒有顯示文件選擇器或選擇後沒有反應
   - **可能原因**：
     - 瀏覽器權限問題
     - 觸摸事件處理不當
     - 文件輸入事件未正確觸發
   - **解決方案**：
     - 確保瀏覽器有文件訪問權限
     - 嘗試使用不同的瀏覽器（推薦 Chrome 或 Safari）
     - 清除瀏覽器緩存和 Cookie
     - 檢查是否在 HTTPS 環境下使用（某些瀏覽器要求）
     - 嘗試點擊上傳區域的不同位置
     - 如果問題持續，訪問調試頁面：`http://[IP]:4000/debug.html`

6. **移動設備上傳區域無響應**
   - **問題描述**：點擊上傳區域沒有反應
   - **解決方案**：
     - 確保觸摸區域足夠大（至少 44px）
     - 嘗試長按後再點擊
     - 檢查是否有其他元素遮擋

7. **移動設備文件選擇器不顯示**
   - **問題描述**：點擊後文件選擇器沒有彈出
   - **解決方案**：
     - 檢查瀏覽器設置中的文件權限
     - 嘗試在設置中允許文件訪問
     - 使用系統自帶的瀏覽器

8. **移動設備選擇圖片後預覽不顯示**
   - **問題描述**：選擇圖片後沒有顯示預覽
   - **解決方案**：
     - 檢查圖片格式是否支援
     - 確認圖片大小不超過 10MB
     - 嘗試選擇較小的圖片文件

### 調試工具

如果遇到移動設備問題，可以使用內建的調試工具：

1. **訪問調試頁面**：`http://[您的IP]:4000/debug.html`
2. **查看設備信息**：確認設備類型和瀏覽器支持
3. **測試文件選擇**：單獨測試文件選擇功能
4. **查看事件日誌**：監控所有觸摸和文件事件
5. **測試觸摸事件**：確認觸摸事件正常工作

### 錯誤代碼
- `400`：請求參數錯誤
- `413`：文件大小超限
- `500`：服務器內部錯誤

## 📄 授權協議

本項目採用 ISC 授權協議。

## 🤝 貢獻

歡迎提交 Issue 和 Pull Request 來改進這個項目！

## 📞 聯繫方式

如有問題或建議，請通過以下方式聯繫：
- 提交 GitHub Issue
- 發送郵件至項目維護者

---

**享受使用小美圖片文字提取工具！** 🎉 
